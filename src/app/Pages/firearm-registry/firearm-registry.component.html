<app-banner></app-banner>
<mat-toolbar>
  <img 
    class="toggle-btn"
    mat-icon-button
    (click)="sidenav.toggle()"
    src="assets/flogo.png"
    alt="logo"
    style="width: 60px; height: 60px; cursor: pointer;"
  />

  <app-modal></app-modal>
</mat-toolbar>
<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #sidenav mode="side" opened class="sidenav">
    <app-header></app-header>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="main-container">
      <div class="content-container">
        <div class="container-for-siderbtn-and-heading">
          <p>Firearm Registration & Management</p>
        </div>

       

        <div class="btn">
          <button mat-button (click)="openDialog()" class="add-button">
            <mat-icon>add</mat-icon>New Firearm
          </button>
        </div>

        <br /><br /><br />
        <mat-card>
          <div class="container">
            <br /><br />
            <div class="btn1">
              <input
                type="text"
                placeholder="Search.."
                name="search"
                [(ngModel)]="searchTerm"
                (input)="search()"
              />
            </div>
          </div>

          <div class="row">
            <div class="col-md-2">
              <select
                id="source"
                class="form-control"
            
              >
                <option value="">Select source</option>
                <option value="Amnesty">Amnesty</option>
                <option value="Civilian Owned">Civilian Owned</option>
                <option value="Disarmament">Disarmament</option>
                <option value="Donations">Donations</option>
                <option value="Importation">Importation</option>
                <option value="Private Companies">Private Companies</option>
                <option value="Seizure">Seizure</option>
                <option value="State Owned">State Owned</option>
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="registered"
                class="form-control"
          
              >
                <option value="">Select Registered</option>
                <option value="2015">2015</option>
                <option value="2020">2020</option>
                <option value="2022">2022</option>
                <option value="2023">2023</option>
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="yearOfImport"
            
              >
                <option value="">Select Year Of Import</option>
                <option value="(unknown)">(unknown)</option>
                <option value="1939">1939</option>
                <option value="1940">1940</option>
                <option value="1941">1941</option>
                <option value="1942">1942</option>
                <option value="1943">1943</option>
                <option value="1944">1944</option>
                <option value="1945">1945</option>
                <option value="1946">1946</option>
                <option value="1947">1947</option>
                <option value="1948">1948</option>
                <option value="1949">1949</option>
                <option value="1950">1950</option>
                <option value="1951">1951</option>
                <option value="1952">1952</option>
                <option value="1953">1953</option>
                <option value="1954">1954</option>
                <option value="1955">1955</option>
                <option value="1956">1956</option>
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="type"
                class="form-control"
       
              >
                <option value="">Select type</option>
                <option value="(unknown)">(unknown)</option>
                <option value="Assault Rifle">Assault Rifle</option>
                <option value="Carbine">Carbine</option>
                <option value="Derringer">Derringer</option>
                <option value="Lever-Action Handgun">
                  Lever-Action Handgun
                </option>
                <option value="Macarov">Macarov</option>
                <option value="Machine Gun">Machine Gun</option>
                <option value="Motar">Motar</option>
                <option value="Muzzle Loader">Muzzle Loader</option>
                <option value="Pistol">Pistol</option>
                <option value="Revolver">Revolver</option>
                <option value="Rifle">Rifle</option>
                <option value="Rocket Launcher">Rocket Launcher</option>
                <option value="Shot Gun">Shot Gun</option>
                <option value="Sniper Rifle">Sniper Rifle</option>
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="model"
                class="form-control"
          
              >
                <option value="">Select Model</option>
                <option value="(unknown)">(unknown)</option>
                <!-- Add all the other options here -->
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="calibre"
                class="form-control"
         
              >
                <option value="">Select Calibre</option>
                <option value="(unknown)">(unknown)</option>
                <!-- Add all the other options here -->
              </select>
            </div>
          </div>
          <!-- Add another row with the remaining selects here -->
          <div class="row">
            <div class="col-md-2">
              <select
                id="calibre"
                class="form-control"
            
              >
                <option value="">Select Calibre</option>
                <option value="(unknown)">(unknown)</option>
                <!-- Add all the other options here -->
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="location"
                class="form-control"

              >
                <option value="">Select Location</option>
                <option value="(unknown)">(unknown)</option>
                <!-- Add all the other options here -->
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="condition"
                class="form-control"

              >
                <option value="">Select Condition</option>
                <option value="(unknown)">(unknown)</option>
                <!-- Add all the other options here -->
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="country"
                class="form-control"

              >
                <option value="">Select Country</option>
                <option value="(unknown)">(unknown)</option>
                <!-- Add all the other options here -->
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="registrationStatus"
                class="form-control"
  
              >
                <option value="">Select Registration Status</option>
                <option value="(unknown)">(unknown)</option>
                <!-- Add all the other options here -->
              </select>
            </div>

            <div class="col-md-2">
              <select
                id="demil"
                class="form-control"

              >
                <option value="">Select Demil</option>
                <option value="(unknown)">(unknown)</option>
                <!-- Add all the other options here -->
              </select>
            </div>
          </div>
        </mat-card>

        <br /><br />

        <div class="table-responsive"> 

          <mat-table [dataSource]="dataSource">
            <!-- Define your table columns here -->
            <ng-container style="height: 1px" matColumnDef="REF#">
              <th mat-header-cell *matHeaderCellDef>REF#</th>

              <td *matCellDef="let element">
                {{ element["REF#"] }} <span>#REF</span> {{ element["Id"] }}
              </td>
            </ng-container>

            <ng-container matColumnDef="FIREARM">
              <div>
                <th style="" mat-header-cell *matHeaderCellDef>FIREARM</th>
              </div>
              <td
                mat-cell
                *matCellDef="let element"
                style="border: 1px solid rgb(235, 235, 235)"
              >
                {{ element.FIREARM }}
                <span style="font-weight: bold">
                  {{ element.firearmType }} {{ element.firearmModel }}</span
                >
                <br />
                <span>Manufacturer:</span>{{ element.manufacturer }} <br />
                <span>Calibre:</span>{{ element.firearmCalibre }} <br />
                <span>Year Of Manufacture:</span>{{ element.yearManufacture }}
                <br />
                <span>Source:</span>{{ element.source }} <br />
                <span>Datemarked:</span>{{ element.dateMarked }} <br />
              </td>
            </ng-container>

            <ng-container matColumnDef="SERIAL NO">
              <th style="" mat-header-cell *matHeaderCellDef>SERIAL NO</th>
              <td
                mat-cell
                *matCellDef="let element"
                style="border: 1px solid rgb(235, 235, 235)"
              >
                {{ element["SERIAL NO"] }} <span>Manufacture Serial:</span
                >{{ element.manufacturerSerial }} <br />
                <span>Assigned Serial:</span>{{ element.assignedSerial }} <br />
                <span>Marked By:</span>{{ element.isFirearm }} <br />
              </td>
            </ng-container>

            <ng-container matColumnDef="HOLDER">
              <th style="" mat-header-cell *matHeaderCellDef>HOLDER</th>
              <td
                mat-cell
                *matCellDef="let element"
                style="border: 1px solid rgb(235, 235, 235)"
              >
                {{ element.HOLDER }} <span>Store:</span>{{ element.store }}
                <br />
              </td>
            </ng-container>

            <ng-container matColumnDef="STATUS">
              <th mat-header-cell *matHeaderCellDef>STATUS</th>
              <td
                mat-cell
                *matCellDef="let element"
                style="border: 1px solid rgb(235, 235, 235)"
              >
                {{ element.STATUS }} <span>Status:</span> {{ element.status }}
              </td>
            </ng-container>
 
           <!-- Account Type Debugging Display -->
 <!-- Debugging purpose -->



  <ng-container matColumnDef="ACTION">
    <th mat-header-cell *matHeaderCellDef>ACTION</th>
    <td mat-cell *matCellDef="let element">
      <div class="action-buttons">
        <button mat-button-raised (click)="openOfficer(); sendDataToChild(element)">
          <a style="text-decoration: none"><span><mat-icon>group</mat-icon>Officer</span></a>
        </button>
        <br />
        <button mat-button (click)="openCivill(); sendDataToCivil(element)">
          <a style="text-decoration: none"><span><mat-icon>perm_identity</mat-icon> Civillian</span></a>
        </button>
        <br />
        <button mat-button (click)="OpenPoagModal(); sendDataToPoag(element)">
          <a style="color: red;"><span><mat-icon>account_balance</mat-icon> Poag</span></a>
        </button>
        <br />
        <button mat-button (click)="OpeniofcModal(); sendDataToIofc(element)">
          <a style="text-decoration: none"><span><mat-icon>language</mat-icon> iofc</span></a>
        </button>
        <br />
        <button mat-button (click)="OpenHmtsModal(); sendDataToHmts(element)">
          <a style="text-decoration: none;"><span><mat-icon>party_mode</mat-icon> hmts</span></a>
        </button>
      </div>
    </td>
  </ng-container>



            <ng-container matColumnDef="MANAGE">
              <th style="" mat-header-cell *matHeaderCellDef>MANAGE</th>
              <td
                mat-cell
                *matCellDef="let element"
                style="border: 1px solid rgb(235, 235, 235)"
              >
                {{ element.MANAGE }}
                <button
                  style="background-color: white"
                  type="button"
                  data-bs-toogle="modal"
                  data-bs-target="#exampleModal"
                >
                  <mat-icon style="background-color: white"
                    >menu</mat-icon
                  ></button
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <button style="background-color: white" class="edit">
                  <mat-icon>edit</mat-icon>
                </button>
              </td>
            </ng-container>

            <!-- Define more columns similarly -->

            <tr
              mat-header-row
              *matHeaderRowDef="displayedColumns"
              style="height: 35px; background-color: #f1f1f1"
            ></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </mat-table>
        </div>

        <!--all components modal's -->
        <app-officer-module
          *ngIf="showOfficer"
          [childData]="dataToSend"
        ></app-officer-module>
        <app-civil *ngIf="showCivill" [civilData]="civilData"></app-civil>
        <app-poag-modal
          *ngIf="showPoagmodal"
          [poagData]="poagData"
        ></app-poag-modal>
        <app-iofc-modal *ngIf="showIofcmodal" [iofcData]="iofcData">
        </app-iofc-modal>
        <app-hmts-modal
          *ngIf="showhmtsmodal"
          [hmtsData]="hmtsData"
        ></app-hmts-modal>
      </div>
    </div> 

  </mat-sidenav-content>
</mat-sidenav-container>